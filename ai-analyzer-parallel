#!/bin/bash

# AI Analyzer with Parallel Categories for Google Colab
# This version processes categories in parallel for maximum speed

echo "🚀 Starting AI analysis with parallel categories..."
echo "⚡ Optimized for speed: 12 workers, parallel categories"
echo "📦 Batch size: 10, Category workers: 12"

if [ $# -eq 0 ]; then
    echo "❌ Please provide a property ID"
    echo "Usage: ./ai-analyzer-parallel <property-id>"
    echo "Example: ./ai-analyzer-parallel 30434108090030050"
    exit 1
fi

PROPERTY_ID=$1

echo "🏠 Processing property: $PROPERTY_ID"
echo "🔄 Using parallel category processing for maximum speed"

# Run the AI analyzer with parallel categories
python -m src.ai_image_analysis_optimized_multi_thread --local-folders --parallel-categories --property-id "$PROPERTY_ID"

echo "✅ AI analysis with parallel categories completed!"
echo "📁 Results saved in output/$PROPERTY_ID/" 