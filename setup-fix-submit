#!/bin/bash

# Setup script for fix_and_submit_local.py
# Installs all required dependencies

echo "ğŸš€ Setting up dependencies for fix_and_submit_local.py..."

# Install Python dependencies
echo "ğŸ“¦ Installing Python packages..."
pip install openai requests

# Check if elephant-cli is installed
if ! command -v npx &> /dev/null; then
    echo "âŒ Error: npx not found. Please install Node.js first."
    echo "Visit: https://nodejs.org/"
    exit 1
fi

# Install elephant-cli if not already installed
echo "ğŸ“¦ Installing elephant-cli..."
npx @elephant-xyz/cli@latest --version

# Check for required files
echo "ğŸ“‹ Checking required files..."

if [ ! -f ".env" ]; then
    echo "âš ï¸  Warning: .env file not found"
    echo "ğŸ“ Create .env file with: OPENAI_API_KEY=your-api-key-here"
fi

if [ ! -f "upload-results.csv" ]; then
    echo "âš ï¸  Warning: upload-results.csv not found"
    echo "ğŸ“ This file is needed for property CID mapping"
fi

if [ ! -d "output" ]; then
    echo "âš ï¸  Warning: output/ directory not found"
    echo "ğŸ“ This directory should contain processed data"
fi

echo "âœ… Setup completed!"
echo "ğŸš€ You can now run: python fix_and_submit_local.py" 